!function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return i(r?r:t)},c,c.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){var n=e.exports,i=window.location.port&&window.location.hostname.match(/local/),o=function(t){return n.protocol+"://"+n.apiHost+t};n.protocol=i?"http":"https",n.apiHost=i?"localhost:8080":"app.howdyform.com",n.stripeKey=i?"pk_test_6MCiAEXja5maiISN7W3cXjhP":"pk_live_COqrme9FBvt1ssbwvxEomd2I",n.verifyRecipientUrl=o("/api/recipients/verify"),n.createAccountUrl=o("/api/accounts"),n.libraryUrl=o("/static/howdyClient.js"),n.createSubscriptionUrl=o("/api/subscriptions")},{}],2:[function(t,e,r){var n=window.howdy={},i=t("superagent"),o=t("./config"),s=function(){var t={};window.location.search.split(/\?|&/).forEach(function(e){var r=e.split("=");t[r[0]]=r[1]});return t};n.handleNewAccountCreation=function(){var t=document.getElementById("snippet-envelope"),e=document.getElementById("snippet-generator"),r=document.getElementById("snippet-generator-inputs"),n=document.getElementById("snippet-generator-email"),s=document.getElementById("snippet-generator-button"),a=document.getElementById("snippet-display"),u=document.getElementById("snippet-display-url"),c=document.getElementById("snippet-display-email"),h=document.getElementById("snippet-display-token");s&&s.addEventListener("click",function(){return/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(n.value)?(u.innerHTML=o.libraryUrl,c.innerHTML=n.value,h.innerHTML=window.btoa(n.value),void i.post(o.createAccountUrl).send({email:n.value}).end(function(r,n){return r?void console.error("Error",r):(t.className+=" bounceOutDown",void setTimeout(function(){e.style.display="none",a.style.display="block",t.className=t.className.replace("bounceOutDown","bounceInUp")},1e3))})):(s.blur(),r.className+=" shake error",void setTimeout(function(){r.className=r.className.replace(" shake error","")},1e3))},!1)},n.handleEmailVerification=function(){var t=s();t.id&&t.verificationToken&&i.post(o.verifyRecipientUrl).send({id:t.id,verificationToken:t.verificationToken}).end(function(t,e){t&&console.err("Error",t),console.log("Success",e)})},n.handleStartSubscription=function(){var t=s();if(window.$&&Stripe&&t.verificationToken){var e=window.$,r=e("#payment-form"),n=atob(t.verificationToken).split("|"),a=n[0],u=n[1];r.find('input[name="email"]').prop({value:u}),r.submit(function(t){return r.find(".submit").prop("disabled",!0),Stripe.setPublishableKey(o.stripeKey),Stripe.card.createToken(r,function(t,e){return e.error?(r.find(".payment-errors").text(e.error.message),r.find(".submit").prop("disabled",!1)):i.post(o.createSubscriptionUrl).send({id:a,stripePaymentToken:e.id}).end(function(t,e){return t?alert(t):window.location.replace("https://howdyform.com/pages/subscription-started.html")})}),!1})}},window.onload=function(){n.handleNewAccountCreation(),n.handleEmailVerification()}},{"./config":1,superagent:5}],3:[function(t,e,r){function n(t){if(t)return i(t)}function i(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}"undefined"!=typeof e&&(e.exports=n),n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],4:[function(t,e,r){e.exports=function(t,e,r){for(var n=0,i=t.length,o=3==arguments.length?r:t[n++];n<i;)o=e.call(null,o,t[n],++n,t);return o}},{}],5:[function(t,e,r){function n(){}function i(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function o(t){if(!w(t))return t;var e=[];for(var r in t)null!=t[r]&&s(e,r,t[r]);return e.join("&")}function s(t,e,r){return Array.isArray(r)?r.forEach(function(r){s(t,e,r)}):void t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}function a(t){for(var e,r,n={},i=t.split("&"),o=0,s=i.length;o<s;++o)r=i[o],e=r.split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return n}function u(t){var e,r,n,i,o=t.split(/\r?\n/),s={};o.pop();for(var a=0,u=o.length;a<u;++a)r=o[a],e=r.indexOf(":"),n=r.slice(0,e).toLowerCase(),i=_(r.slice(e+1)),s[n]=i;return s}function c(t){return/[\/+]json\b/.test(t)}function h(t){return t.split(/ *; */).shift()}function p(t){return v(t.split(/ *; */),function(t,e){var r=e.split(/ *= */),n=r.shift(),i=r.shift();return n&&i&&(t[n]=i),t},{})}function l(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=u(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function d(t,e){var r=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new l(r)}catch(n){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=n,t.rawResponse=r.xhr&&r.xhr.responseText?r.xhr.responseText:null,t.statusCode=r.xhr&&r.xhr.status?r.xhr.status:null,r.callback(t)}if(r.emit("response",e),t)return r.callback(t,e);if(e.status>=200&&e.status<300)return r.callback(t,e);var i=new Error(e.statusText||"Unsuccessful HTTP response");i.original=t,i.response=e,i.status=e.status,r.callback(i,e)})}function f(t,e){var r=g("DELETE",t);return e&&r.end(e),r}var m,y=t("emitter"),v=t("reduce"),b=t("./request-base"),w=t("./is-object");m="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var g=e.exports=t("./request").bind(null,d);g.getXHR=function(){if(!(!m.XMLHttpRequest||m.location&&"file:"==m.location.protocol&&m.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var _="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};g.serializeObject=o,g.parseString=a,g.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},g.serialize={"application/x-www-form-urlencoded":o,"application/json":JSON.stringify},g.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},l.prototype.get=function(t){return this.header[t.toLowerCase()]},l.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=h(e);var r=p(e);for(var n in r)this[n]=r[n]},l.prototype.parseBody=function(t){var e=g.parse[this.type];return!e&&c(this.type)&&(e=g.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null},l.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},l.prototype.toError=function(){var t=this.req,e=t.method,r=t.url,n="cannot "+e+" "+r+" ("+this.status+")",i=new Error(n);return i.status=this.status,i.method=e,i.url=r,i},g.Response=l,y(d.prototype);for(var x in b)d.prototype[x]=b[x];d.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr&&this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},d.prototype.type=function(t){return this.set("Content-Type",g.types[t]||t),this},d.prototype.responseType=function(t){return this._responseType=t,this},d.prototype.accept=function(t){return this.set("Accept",g.types[t]||t),this},d.prototype.auth=function(t,e,r){switch(r||(r={type:"basic"}),r.type){case"basic":var n=btoa(t+":"+e);this.set("Authorization","Basic "+n);break;case"auto":this.username=t,this.password=e}return this},d.prototype.query=function(t){return"string"!=typeof t&&(t=o(t)),t&&this._query.push(t),this},d.prototype.attach=function(t,e,r){return this._getFormData().append(t,e,r||e.name),this},d.prototype._getFormData=function(){return this._formData||(this._formData=new m.FormData),this._formData},d.prototype.send=function(t){var e=w(t),r=this._header["content-type"];if(e&&w(this._data))for(var n in t)this._data[n]=t[n];else"string"==typeof t?(r||this.type("form"),r=this._header["content-type"],"application/x-www-form-urlencoded"==r?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||i(t)?this:(r||this.type("json"),this)},l.prototype.parse=function(t){return m.console&&console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0"),this.serialize(t),this},l.prototype.serialize=function(t){return this._parser=t,this},d.prototype.callback=function(t,e){var r=this._callback;this.clearTimeout(),r(t,e)},d.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},d.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},d.prototype.withCredentials=function(){return this._withCredentials=!0,this},d.prototype.end=function(t){var e=this,r=this.xhr=g.getXHR(),o=this._query.join("&"),s=this._timeout,a=this._formData||this._data;this._callback=t||n,r.onreadystatechange=function(){if(4==r.readyState){var t;try{t=r.status}catch(n){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var u=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),t.direction="download",e.emit("progress",t)};this.hasListeners("progress")&&(r.onprogress=u);try{r.upload&&this.hasListeners("progress")&&(r.upload.onprogress=u)}catch(h){}if(s&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},s)),o&&(o=g.serializeObject(o),this.url+=~this.url.indexOf("?")?"&"+o:"?"+o),this.username&&this.password?r.open(this.method,this.url,!0,this.username,this.password):r.open(this.method,this.url,!0),this._withCredentials&&(r.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!i(a)){var p=this._header["content-type"],l=this._parser||g.serialize[p?p.split(";")[0]:""];!l&&c(p)&&(l=g.serialize["application/json"]),l&&(a=l(a))}for(var d in this.header)null!=this.header[d]&&r.setRequestHeader(d,this.header[d]);return this._responseType&&(r.responseType=this._responseType),this.emit("request",this),r.send("undefined"!=typeof a?a:null),this},g.Request=d,g.get=function(t,e,r){var n=g("GET",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},g.head=function(t,e,r){var n=g("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},g.del=f,g["delete"]=f,g.patch=function(t,e,r){var n=g("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},g.post=function(t,e,r){var n=g("POST",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},g.put=function(t,e,r){var n=g("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}},{"./is-object":6,"./request":8,"./request-base":7,emitter:3,reduce:4}],6:[function(t,e,r){function n(t){return null!=t&&"object"==typeof t}e.exports=n},{}],7:[function(t,e,r){var n=t("./is-object");r.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},r.parse=function(t){return this._parser=t,this},r.timeout=function(t){return this._timeout=t,this},r.then=function(t,e){return this.end(function(r,n){r?e(r):t(n)})},r.use=function(t){return t(this),this},r.get=function(t){return this._header[t.toLowerCase()]},r.getHeader=r.get,r.set=function(t,e){if(n(t)){for(var r in t)this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},r.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},r.field=function(t,e){return this._getFormData().append(t,e),this}},{"./is-object":6}],8:[function(t,e,r){function n(t,e,r){return"function"==typeof r?new t("GET",e).end(r):2==arguments.length?new t("GET",e):new t(e,r)}e.exports=n},{}]},{},[2]);